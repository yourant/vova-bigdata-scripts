---
config:
  retries: 4
  retry.backoff: 600000
  flow.num.job.threads: 1

nodes:
  - name: end_flag
    type: noop
    dependsOn:
      - themis_trd_flow
      - themis_goods_flow
      - themis_intact_flow
      - themis_lgtcs_flow
      - themis_mktcpn_flow
      - themis_mbrmct_flow
      - themis_fin_flow
      - themis_risk_flow
      - trigram_fn_flow
      - bimaster_flow
      - newsletter_flow
      - other_mktcpn_flow
      - trigram_pangu_flow
      - report_ychen_flow

  - name: start_flag
    type: noop


# flow: 交易域数据抽取
  - name: themis_trd_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_trd_start
        type: noop

      - name: themis_trd_end
        type: noop
        dependsOn:
          - vova_fisher_order_info_product
          - collection_order_goods

# 交易域数据抽取
      - name: vova_fisher_order_info_product
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=fisher_order_info_product --mapers=5 --inc_column=id --etl_type=INCID --period_type=day --partition_num=10
        dependsOn:
          - themis_trd_start

      - name: collection_order_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=collection_order_goods --mapers=10 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_merchant_region
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_region --mapers=10 --etl_type=ALL  --period_type=day --partition_num=10
        dependsOn:
          - themis_trd_start

      - name: vova_goods_warehouse_limit
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_warehouse_limit --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_goods_warehouse_limit_pre
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_warehouse_limit_pre --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_brand
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=brand --inc_column=last_update_time --mapers=1 --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_client_payer_id_blacklist
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=client_payer_id_blacklist --inc_column=last_update_time --mapers=1 --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_credit_card_blacklist
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=credit_card_blacklist --inc_column=last_update_time --mapers=1 --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_client_ip_blacklist
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=client_ip_blacklist --inc_column=last_update_time --mapers=1 --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_domain_user_id_blacklist
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=domain_user_id_blacklist --inc_column=last_update_time --mapers=1 --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_address_tel_name_blacklist
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=address_tel_name_blacklist --inc_column=last_update_time --mapers=1 --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_pay_credit_card_history
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=pay_credit_card_history --inc_column=last_update_time --mapers=4 --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_trd_start

      - name: vova_cms_shopping_blacklist
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=cms_shopping_blacklist --inc_column=last_update_time --mapers=1 --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_order_info
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_info --inc_column=last_update_time --mapers=5 --etl_type=INCTIME --period_type=day --partition_num=100
        dependsOn:
          - themis_trd_start

      - name: vova_order_extension
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_extension --mapers=50 --etl_type=ALL  --period_type=day --partition_num=50
        dependsOn:
          - themis_trd_start

      - name: vova_order_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_goods --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_order_goods_status
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_goods_status --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=25
        dependsOn:
          - themis_trd_start

      - name: vova_order_relation
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_relation --mapers=10 --etl_type=ALL  --period_type=day --partition_num=20
        dependsOn:
          - themis_trd_start

      - name: vova_order_goods_extra
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_goods_extra --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_trd_start

      - name: vova_order_goods_extension
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_goods_extension --inc_column=abs_id --etl_type=INCID --period_type=day --partition_num=70
        dependsOn:
          - themis_trd_start

      - name: vova_refund_type
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=refund_type --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_refund_reason_type
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=refund_reason_type --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_refund_reason
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=refund_reason --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=20
        dependsOn:
          - themis_trd_start

      - name: vova_refund_audit_txn
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=refund_audit_txn --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=20
        dependsOn:
          - themis_trd_start

      - name: vova_payment
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=payment --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_paypal_txn
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=paypal_txn --inc_column=txn_datetime --etl_type=INCTIMENOMERGE --period_type=day --partition_num=400 --split_id=txn_id
        dependsOn:
          - themis_trd_start

      - name: vova_chargeback_code_reason
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=chargeback_code_reason --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_checkout_chargeback_reporting
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=checkout_chargeback_reporting --mapers=2 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_order_card_installments_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_card_installments_record --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_sc_warehouse_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sc_warehouse_goods --mapers=2 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_sc_shipping_order
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sc_shipping_order --mapers=2 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_sc_goods_shipping
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sc_goods_shipping --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_sc_order_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sc_order_goods --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start

      - name: vova_sc_goods_shipping_detail
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sc_goods_shipping_detail --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_trd_start


# flow:商品域数据抽取
  - name: themis_goods_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_goods_start
        type: noop

      - name: themis_goods_end
        type: noop
        dependsOn:
          - warehouse_shipping_order
          - vova_gsn_reduce_valid_goods

#商品域数据抽取
      - name: warehouse_shipping_order
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=gsn_reduce_valid_goods --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_gsn_reduce_valid_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=gsn_reduce_valid_goods --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: warehouse_shipping_order_detail
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=warehouse_shipping_order_detail --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: sku_warehouse_storage
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sku_warehouse_storage --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: sku_warehouse_storage_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sku_warehouse_storage_log --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=120
        dependsOn:
          - themis_goods_start

      - name: vova_virtual_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=virtual_goods --inc_column=virtual_goods_id --etl_type=INCID --period_type=day --partition_num=10
        dependsOn:
          - themis_goods_start

      - name: vova_goods_on_sale_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_on_sale_record --inc_column=goods_on_sale_record_id --etl_type=INCID --period_type=day --partition_num=30
        dependsOn:
          - themis_goods_start

      - name: vova_goods_display_sort
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_display_sort --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_category
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=category --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_goods_sku
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_sku --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=400
        dependsOn:
          - themis_goods_start

      - name: vova_fbv_sku_display_storage
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=fbv_sku_display_storage --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_fbv_goods_shipping_fee
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=fbv_goods_shipping_fee --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_fbv_sku_display_storage_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=fbv_sku_display_storage_log --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_fbv_sku_merchant_storage_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=fbv_sku_merchant_storage_log --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_fbv_sku_warehouse_storage_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=fbv_sku_warehouse_storage_log --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_goods_attached_attribute
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_attached_attribute --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_collection_goods_no_join
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=collection_goods_no_join --mapers=2 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_goods_gallery
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_gallery --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=150
        dependsOn:
          - themis_goods_start

      - name: vova_sku_style
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sku_style --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=120
        dependsOn:
          - themis_goods_start

      - name: vova_style_value
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=style_value --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_style_name
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=style_name --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start

      - name: vova_route
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=route --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_goods_start


# flow: 互动域数据抽取
  - name: themis_intact_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_intact_start
        type: noop

      - name: themis_intact_end
        type: noop
        dependsOn:
          - vova_goods_comment

#互动域数据抽取
      - name: vova_goods_comment
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=goods_comment --mapers=5 --inc_column=comment_id --etl_type=INCID --period_type=day --partition_num=20
        dependsOn:
          - themis_intact_start


# flow: 物流域数据抽取
  - name: themis_lgtcs_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_lgtcs_start
        type: noop

      - name: themis_lgtcs_end
        type: noop
        dependsOn:
          - vova_shipping_carrier
          - vova_order_shipping_tracking
          - vova_order_shipping_tracking_detail
          - vova_sku_ops_log

#物流域数据抽取
      - name: vova_shipping_carrier
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=shipping_carrier --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_lgtcs_start

      - name: vova_order_shipping_tracking
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_shipping_tracking --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_lgtcs_start

      - name: vova_order_shipping_tracking_detail
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_shipping_tracking_detail --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=25
        dependsOn:
          - themis_lgtcs_start

      - name: vova_sku_ops_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sku_ops_log --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_lgtcs_start


# flow: 营销活动域数据抽取
  - name: themis_mktcpn_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_mktcpn_start
        type: noop

      - name: themis_mktcpn_end
        type: noop
        dependsOn:
          - vova_activity_valid_goods_record
          - vova_activity_participate_record
          - vova_lottery_log
          - vova_shop_config

#营销活动域数据抽取
      - name: vova_activity_valid_goods_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity_valid_goods_record --mapers=5 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_activity_participate_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity_participate_record --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_lottery_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=lottery_log --mapers=5 --inc_column=lottery_log_id --etl_type=INCID --period_type=day --partition_num=60
        dependsOn:
          - themis_mktcpn_start

      - name: vova_shop_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=shop_config --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_order_bonus_detail
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=order_bonus_detail --mapers=10 --etl_type=ALL  --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_lottery_yards
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_lottery_yards --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_winning_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_winning_record --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_winning_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_winning_config --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_group
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_group --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_activity_group_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_activity_group_config --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_activity_prize
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_activity_prize --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_activity_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_activity_config --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_activity
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_activity --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_group_member
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_group_member --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

# user_wallet_part 0-15
      - name: vova_user_wallet_part_0
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_0 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_1
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_1 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_2
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_2 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_3
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_3 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_4
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_4 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_5
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_5 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_6
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_6 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_7
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_7 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_8
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_8 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_9
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_9 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_10
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_10 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_11
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_11 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_12
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_12 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_13
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_13 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_14
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_14 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part_15
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_part_15 --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_part
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/vova/ods/merge/vova_user_wallet_part.sh
        dependsOn:
          - themis_mktcpn_start
          - vova_user_wallet_part_0
          - vova_user_wallet_part_1
          - vova_user_wallet_part_2
          - vova_user_wallet_part_3
          - vova_user_wallet_part_4
          - vova_user_wallet_part_5
          - vova_user_wallet_part_6
          - vova_user_wallet_part_7
          - vova_user_wallet_part_8
          - vova_user_wallet_part_9
          - vova_user_wallet_part_10
          - vova_user_wallet_part_11
          - vova_user_wallet_part_12
          - vova_user_wallet_part_13
          - vova_user_wallet_part_14
          - vova_user_wallet_part_15

      - name: vova_check_in_step_exchange_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=check_in_step_exchange_log --mapers=5 --inc_column=log_id --etl_type=INCID --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_check_in_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_check_in_log --mapers=10 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=40
        dependsOn:
          - themis_mktcpn_start

      - name: vova_missions
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=missions --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_ok_coupon_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=ok_coupon_config --mapers=5 --inc_column=coupon_config_id --etl_type=INCID --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_ok_coupon_config_type
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=ok_coupon_config_type --mapers=1 --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_coins_lucky_game_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=coins_lucky_game_record --mapers=2 --etl_type=ALL  --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_flash_sale_apply
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=flash_sale_apply --mapers=5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

#推送
      - name: vova_app_message_push
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=app_message_push --inc_column=push_time --etl_type=INCTIME --period_type=day --partition_num=200
        dependsOn:
          - themis_mktcpn_start

#拍卖场
      - name: vova_activity_auction_mission
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity_auction_mission --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_activity_auction_mission_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity_auction_mission_log --inc_column=id --etl_type=INCID --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_luckystar_order_info
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=luckystar_order_info --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

# user_wallet_ops_log 0-15
      - name: vova_user_wallet_ops_log_0
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_0 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_1
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_1 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_2
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_2 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_3
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_3 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_4
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_4 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_5
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_6
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_6 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_7
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_7 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_8
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_8 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_9
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_9 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_10
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_10 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_11
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_11 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_12
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_12 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_13
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_13 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_14
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_14 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log_15
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_wallet_ops_log_15 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=90
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_wallet_ops_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/vova/ods/merge/vova_user_wallet_ops_log.sh
        dependsOn:
          - themis_mktcpn_start
          - vova_user_wallet_ops_log_0
          - vova_user_wallet_ops_log_1
          - vova_user_wallet_ops_log_2
          - vova_user_wallet_ops_log_3
          - vova_user_wallet_ops_log_4
          - vova_user_wallet_ops_log_5
          - vova_user_wallet_ops_log_6
          - vova_user_wallet_ops_log_7
          - vova_user_wallet_ops_log_8
          - vova_user_wallet_ops_log_9
          - vova_user_wallet_ops_log_10
          - vova_user_wallet_ops_log_11
          - vova_user_wallet_ops_log_12
          - vova_user_wallet_ops_log_13
          - vova_user_wallet_ops_log_14
          - vova_user_wallet_ops_log_15

# user_mission_record 0-15
      - name: vova_user_mission_record_0
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_0 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_1
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_1 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_2
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_2 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_3
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_3 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_4
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_4 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_5
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_5 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_6
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_6 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_7
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_7 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_8
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_8 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_9
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_9 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_10
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_10 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_11
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_11 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_12
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_12 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_13
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_13 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_14
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_14 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record_15
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_mission_record_15 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - themis_mktcpn_start

      - name: vova_user_mission_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/vova/ods/merge/vova_user_mission_record.sh
        dependsOn:
          - themis_mktcpn_start
          - vova_user_mission_record_0
          - vova_user_mission_record_1
          - vova_user_mission_record_2
          - vova_user_mission_record_3
          - vova_user_mission_record_4
          - vova_user_mission_record_5
          - vova_user_mission_record_6
          - vova_user_mission_record_7
          - vova_user_mission_record_8
          - vova_user_mission_record_9
          - vova_user_mission_record_10
          - vova_user_mission_record_11
          - vova_user_mission_record_12
          - vova_user_mission_record_13
          - vova_user_mission_record_14
          - vova_user_mission_record_15


      - name: vova_short_links
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=short_links --mapers=10 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=60
        dependsOn:
          - themis_mktcpn_start

      - name: vova_activity_invite_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity_invite_record --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_free_sale_invite_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=free_sale_invite_record --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=20
        dependsOn:
          - themis_mktcpn_start

      - name: vova_free_sale_qualification
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=free_sale_qualification --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=15
        dependsOn:
          - themis_mktcpn_start

      - name: vova_free_sale_cost_history
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=free_sale_cost_history --inc_column=free_sale_cost_history_id --etl_type=INCID --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_free_sale_cost_relation
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=free_sale_cost_relation --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start

      - name: vova_ok_coupon
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=ok_coupon --etl_type=ALL  --mapers=50 --period_type=day --partition_num=60
        dependsOn:
          - themis_mktcpn_start

      - name: vova_activity_coupon_tag
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity_coupon_tag --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_activity
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity --etl_type=ALL --period_type=day --partition_num=3
        dependsOn:
          - themis_mktcpn_start

      - name: vova_activity_coupon
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=activity_coupon --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_mktcpn_start


# flow: 会员和店铺域数据抽取
  - name: themis_mbrmct_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_mbrmct_start
        type: noop

      - name: themis_mbrmct_end
        type: noop
        dependsOn:
          - vova_merchant_register_coupon
          - vova_sponsor
          - vova_merchant_sponsor
          - vova_merchant
          - vova_merchant_register_deposit_payment
          - vova_users
          - vova_users_extension
          - vova_user_agent
          - vova_user_login_record
          - vova_ban_sell_history
          - vova_languages
          - vova_region
          - vova_merchant_detail
          - vova_merchant_payment_account_info
          - vova_merchant_login_log
          - vova_product_upload_excel
          - vova_merchant_coupon_config
          - vova_merchant_coupon
          - vova_merchant_sale
          - vova_merchant_assessment_score
          - vova_merchant_assessment_score_log
          - vova_bonus_card

#会员和店铺域数据抽取
      - name: vova_merchant_register_coupon
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_register_coupon --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_sponsor
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=sponsor --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_sponsor
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_sponsor --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_register_deposit_payment # test 表不存在
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_register_deposit_payment --etl_type=ALL  --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_users
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=users --inc_column=last_time --etl_type=INCTIME --period_type=day --partition_num=100
        dependsOn:
          - themis_mbrmct_start

      - name: vova_users_extension
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=users_extension --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=40
        dependsOn:
          - themis_mbrmct_start

      - name: vova_user_agent
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_agent --inc_column=user_agent_id --etl_type=INCID --period_type=day --partition_num=100
        dependsOn:
          - themis_mbrmct_start

      - name: vova_user_login_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_login_record --inc_column=user_agent_id --etl_type=INCID --period_type=day --partition_num=100
        dependsOn:
          - themis_mbrmct_start

      - name: vova_ban_sell_history
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=ban_sell_history --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_languages
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=languages --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_region
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=region --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_detail
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_detail --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_payment_account_info # test 表不存在
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_payment_account_info --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_login_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_login_log --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_product_upload_excel
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=product_upload_excel --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=15
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_coupon_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_coupon_config --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_coupon
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_coupon --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_sale
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_sale --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_assessment_score
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_assessment_score --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_merchant_assessment_score_log
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=merchant_assessment_score_log --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

      - name: vova_bonus_card
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=bonus_card --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - themis_mbrmct_start

# flow: 财务域数据抽取
  - name: themis_fin_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_fin_start
        type: noop

      - name: themis_fin_end
        type: noop
        dependsOn:
          - vova_currency
          - vova_user_withdraw_detail
          - vova_adyen_klarna_capture_record

#财务域数据抽取
      - name: vova_currency
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=currency --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - themis_fin_start

      - name: vova_user_withdraw_detail
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=user_withdraw_detail --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_fin_start

      - name: vova_adyen_klarna_capture_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=adyen_klarna_capture_record --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - themis_fin_start


# flow: 风控域数据抽取
  - name: themis_risk_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: themis_risk_start
        type: noop

      - name: themis_risk_end
        type: noop
        dependsOn:
          - vova_risk_user_list

#风控域数据抽取
      - name: vova_risk_user_list
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vts --table_name=risk_user_list --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - themis_risk_start


# flow: fn
  - name: trigram_fn_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: trigram_fn_start
        type: noop

      - name: trigram_fn_end
        type: noop
        dependsOn:
          - fn_order_extension
          - fn_order_info
          - fn_order_goods
          - fn_users
          - fn_goods
          - fn_category
          - fn_goods_project
          - fn_virtual_goods
          - fn_goods_gallery
          - fn_site_domain_config
          - trigram_vega_goods_info_relation
          - trigram_prettyy_product_map

      - name: fn_order_extension
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=order_extension --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

      - name: fn_order_info
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=order_info --etl_type=ALL --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

      - name: fn_order_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=order_goods --etl_type=ALL --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

      - name: fn_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=goods --etl_type=ALL --mapers=2 --period_type=day --partition_num=10
        dependsOn:
          - trigram_fn_start

      - name: fn_users
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=users --etl_type=ALL --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

      - name: fn_goods_gallery
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=goods_gallery --mapers=1 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - trigram_fn_start

      - name: fn_category
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=category --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

      - name: fn_goods_project
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=goods_project --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3 --primary_key=goods_id
        dependsOn:
          - trigram_fn_start

      - name: fn_virtual_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=virtual_goods --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

      - name: fn_site_domain_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=site_domain_config --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

      - name: fn_site # test 表不存在
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=zsp --table_name=site --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start

# trigram_vega
      - name: trigram_vega_goods_info_relation
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gvg --table_name=goods_info_relation --etl_type=ALL  --mapers=10 --period_type=day --partition_num=10
        dependsOn:
          - trigram_fn_start

      - name: trigram_prettyy_product_map
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpt --table_name=product_map --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - trigram_fn_start


# flow: bimaster
  - name: bimaster_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: bimaster_start
        type: noop

      - name: bimasterr_end
        type: noop
        dependsOn:
          - vova_images_vector
          - vova_rec_gid_pic_similar
          - vova_mct_auth_status

      - name: vova_images_vector # test 表不存在
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vbts --table_name=images_vector --mapers=1 --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=150
        dependsOn:
          - bimaster_start

      - name: vova_rec_gid_pic_similar
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vbts --table_name=rec_gid_pic_similar --etl_type=INIT  --mapers=2 --period_type=day --partition_num=3
        dependsOn:
          - bimaster_start

      - name: vova_mct_auth_status
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vbts --table_name=mct_auth_status --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - bimaster_start


# flow: newsletter
  - name: newsletter_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: newsletter_start
        type: noop

      - name: newsletter_end
        type: noop
        dependsOn:
          - vova_email_verify_result

      - name: vova_email_verify_result # test 无库
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vns --table_name=email_verify_result --etl_type=ALL  --mapers=25 --period_type=day --partition_num=25
        dependsOn:
          - newsletter_start


# flow: other 营销活动域数据抽取
  - name: other_mktcpn_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: other_mktcpn_start
        type: noop

      - name: other_mktcpn_end
        type: noop
        dependsOn:
          - vova_channel_mapping
          - vova_appsflyer_record
          - ac_appsflyer_record
          - vova_app_push_logs_02
          - vova_ac_app_event_log_message_push
          - vova_app_event_log_message_push
          - vova_app_push_tag
          - vova_app_push_task
          - vova_app_push_task_config
          - vova_user_tags
          - vova_app_install_record
          - vova_email_task_config
          - vova_email_send_log_a
          - vova_email_send_log_b
          - vova_email_send_log_c

      - name: vova_channel_mapping
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtlr --table_name=channel_mapping --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_goods_img_mapping
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vbts --table_name=goods_img_mapping --etl_type=ALL  --mapers=3 --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_appsflyer_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtl --table_name=appsflyer_record --inc_column=id --etl_type=INCID --period_type=day --partition_num=200
        dependsOn:
          - other_mktcpn_start

      - name: ac_appsflyer_record # test 无库
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=acl --table_name=appsflyer_record --inc_column=id --etl_type=INCID --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_app_push_logs_02
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/vova/ods/push_click/update.sh
        dependsOn:
          - other_mktcpn_start

#推送 mktcpn_start
      - name: vova_ac_app_event_log_message_push
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=ac_app_event_log_message_push --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_app_event_log_message_push
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=app_event_log_message_push --inc_column=id --etl_type=INCID --period_type=day --partition_num=25
        dependsOn:
          - other_mktcpn_start

      - name: vova_app_push_tag
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=app_push_tag --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_app_push_task
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=app_push_task --etl_type=ALL --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_app_push_task_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=app_push_task_config --etl_type=ALL --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_user_tags
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=user_tags --inc_column=update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - other_mktcpn_start

      - name: vova_app_install_record
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=app_install_record --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=100
        dependsOn:
          - other_mktcpn_start

      - name: vova_email_task_config
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=email_task_config --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - other_mktcpn_start

      - name: vova_email_send_log_a # test 表不存在
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=email_send_log_a --inc_column=update_time --mapers=5 --etl_type=INCTIME --period_type=day --partition_num=40
        dependsOn:
          - other_mktcpn_start

      - name: vova_email_send_log_b # test 表不存在
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=email_send_log_b --inc_column=update_time --mapers=5 --etl_type=INCTIME --period_type=day --partition_num=30
        dependsOn:
          - other_mktcpn_start

      - name: vova_email_send_log_c # test 表不存在
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=vtp --table_name=email_send_log_c --inc_column=update_time --mapers=5 --etl_type=INCTIME --period_type=day --partition_num=50
        dependsOn:
          - other_mktcpn_start


# flow: trigram_pangu新中台
  - name: trigram_pangu_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: trigram_pangu_end
        type: noop
        dependsOn:
          - trigram_pangu_order_info
          - trigram_pangu_order_goods
          - trigram_pangu_order_goods_purchase_plan
          - trigram_pangu_purchase_order_info
          - trigram_pangu_purchase_order_goods
          - trigram_pangu_outbound_waybill_info
          - trigram_pangu_waybill_info
          - trigram_nuwa_category

      - name: trigram_pangu_start
        type: noop

      - name: trigram_pangu_order_info
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpg --table_name=order_info --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - trigram_pangu_start

      - name: trigram_pangu_order_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpg --table_name=order_goods --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - trigram_pangu_start

      - name: trigram_pangu_order_goods_purchase_plan
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpg --table_name=order_goods_purchase_plan --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=10
        dependsOn:
          - trigram_pangu_start

      - name: trigram_pangu_purchase_order_info
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpg --table_name=purchase_order_info --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - trigram_pangu_start

      - name: trigram_pangu_purchase_order_goods
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpg --table_name=purchase_order_goods --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - trigram_pangu_start

      - name: trigram_pangu_outbound_waybill_info
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpg --table_name=outbound_waybill_info --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - trigram_pangu_start

      - name: trigram_pangu_waybill_info
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gpg --table_name=waybill_info --inc_column=last_update_time --etl_type=INCTIME --period_type=day --partition_num=3
        dependsOn:
          - trigram_pangu_start

      - name: trigram_nuwa_category
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=gnw --table_name=category --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3
        dependsOn:
          - trigram_pangu_start

# flow: report_ychen
  - name: report_ychen_flow
    type: flow
    config:
      retries: 4
      retry.backoff: 600000
    dependsOn:
      - start_flag
    nodes:
      - name: report_ychen_end
        type: noop
        dependsOn:
          - vova_ads_ga_channel_daily_gmv_flat_report
          - vova_ads_ga_channel_daily_flat_report
          - vova_adwords_ad_performance_daily_report
          - vova_adwords_ad_carousel
          - vova_campaign_adgroup_mapping
          - vova_campaign_mapping

      - name: report_ychen_start
        type: noop

      - name: vova_ads_ga_channel_daily_gmv_flat_report
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=cy --table_name=ads_ga_channel_daily_gmv_flat_report --etl_type=ALL  --mapers=1 --period_type=day --partition_num=3 --primary_key=adgfr_id
        dependsOn:
          - report_ychen_start

      - name: vova_ads_ga_channel_daily_flat_report
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=cy --table_name=ads_ga_channel_daily_flat_report --etl_type=ALL --mapers=1 --period_type=day --partition_num=3 --primary_key=adfr_id
        dependsOn:
          - report_ychen_start

      - name: vova_adwords_ad_performance_daily_report
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=cy --table_name=adwords_ad_performance_daily_report --etl_type=ALL --mapers=1 --period_type=day --partition_num=3 --primary_key=rec_id
        dependsOn:
          - report_ychen_start

      - name: vova_adwords_ad_carousel
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=cy --table_name=adwords_ad_carousel --etl_type=ALL --mapers=1 --period_type=day --partition_num=3 --primary_key=id
        dependsOn:
          - report_ychen_start

      - name: vova_campaign_adgroup_mapping
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=cy --table_name=campaign_adgroup_mapping --etl_type=ALL --mapers=1 --period_type=day --partition_num=3 --primary_key=CampaignId
        dependsOn:
          - report_ychen_start

      - name: vova_campaign_mapping
        type: command
        config:
          retries: 4
          retry.backoff: 600000
          command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=cy --table_name=campaign_mapping --etl_type=ALL --mapers=1 --period_type=day --partition_num=3 --primary_key=CampaignId
        dependsOn:
          - report_ychen_start










