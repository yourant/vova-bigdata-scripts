---
config:
    failure.emails: htgao@i9i8.com
    retries: 15
    retry.backoff: 300000

nodes:
  - name: fd_ecshop_flow_start
    type: noop

  - name: ods_fd_ecs_goods
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=ecs_goods --mapers=2 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_fd_stock_ecs_order_sale_bak_detail
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=fd_stock_ecs_order_sale_bak_detail --mapers=2 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_fd_sku_backups
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=fd_sku_backups --mapers=2 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_fd_spring_festival_stock_up_info
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=fd_spring_festival_stock_up_info --mapers=2 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_fd_stock_goods_config
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=fd_stock_goods_config --mapers=2 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_ecs_region
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=ecs_region --mapers=2 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_category_product_line
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=category_product_line --mapers=1 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_ecs_provider
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=ecs_provider --mapers=1 --partition_num=1 --period_type=day
    dependsOn:
        - fd_ecshop_flow_start

  - name: ods_package_workload_statistics
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=INCTIME --inc_column=update_time --table_name=package_workload_statistics --mapers=1 --partition_num=1 --period_type=day
    dependsOn:
         - fd_ecshop_flow_start

  - name: ods_fd_provider_daily_report
    type: command
    config:
        command: sh /mnt/vova-bigdata-scripts/common/sqoop_import_themis.sh --db_code=ecshop --etl_type=ALL --table_name=fd_provider_daily_report --mapers=2 --partition_num=1 --period_type=day
    dependsOn:
         - fd_ecshop_flow_start


  - name: fd_ecshop_inc_flow_end
    type: noop
    dependsOn:
        - ods_fd_ecs_goods
        - ods_fd_stock_ecs_order_sale_bak_detail
        - ods_fd_spring_festival_stock_up_info
        - ods_fd_sku_backups
        - ods_fd_stock_goods_config
        - ods_ecs_region
        - ods_category_product_line
        - ods_ecs_provider
        - ods_package_workload_statistics
        - ods_fd_provider_daily_report